\hypertarget{i2c_8c}{}\doxysection{i2c.\+c File Reference}
\label{i2c_8c}\index{i2c.c@{i2c.c}}


This implementation file contains the code for i2c interface.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/ioctl.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$linux/i2c.\+h$>$}\newline
{\ttfamily \#include $<$linux/i2c-\/dev.\+h$>$}\newline
Include dependency graph for i2c.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{i2c_8c_a48b2307a49c5bd26ab59c6bf7bd04192}{i2c\+\_\+open}} (const char $\ast$device)
\item 
void \mbox{\hyperlink{i2c_8c_ab22188b386fc3bc44b642319922a9e2d}{i2c\+\_\+close}} (int fd)
\item 
uint8\+\_\+t \mbox{\hyperlink{i2c_8c_a3716a55af7283410e7cc3de4b22f2487}{i2c\+\_\+read}} (int fd, uint8\+\_\+t addr, uint8\+\_\+t reg\+\_\+addr)
\item 
int \mbox{\hyperlink{i2c_8c_aca6dddafa3e1b65ba21054a53d3437ac}{i2c\+\_\+write}} (int fd, uint8\+\_\+t addr, uint8\+\_\+t reg\+\_\+addr, uint8\+\_\+t new\+\_\+reg\+\_\+value)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This implementation file contains the code for i2c interface. 

\begin{DoxyAuthor}{Author}
Jimmy Chea 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
30/03/2023 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{i2c_8c_ab22188b386fc3bc44b642319922a9e2d}\label{i2c_8c_ab22188b386fc3bc44b642319922a9e2d}} 
\index{i2c.c@{i2c.c}!i2c\_close@{i2c\_close}}
\index{i2c\_close@{i2c\_close}!i2c.c@{i2c.c}}
\doxysubsubsection{\texorpdfstring{i2c\_close()}{i2c\_close()}}
{\footnotesize\ttfamily void i2c\+\_\+close (\begin{DoxyParamCaption}\item[{int}]{fd }\end{DoxyParamCaption})}

A detailed description of the i2c\+\_\+close function

This function is to close the i2c device based on the file descriptor


\begin{DoxyParams}{Parameters}
{\em fd} & -\/ file descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ none 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c_8c_a48b2307a49c5bd26ab59c6bf7bd04192}\label{i2c_8c_a48b2307a49c5bd26ab59c6bf7bd04192}} 
\index{i2c.c@{i2c.c}!i2c\_open@{i2c\_open}}
\index{i2c\_open@{i2c\_open}!i2c.c@{i2c.c}}
\doxysubsubsection{\texorpdfstring{i2c\_open()}{i2c\_open()}}
{\footnotesize\ttfamily int i2c\+\_\+open (\begin{DoxyParamCaption}\item[{const char $\ast$}]{device }\end{DoxyParamCaption})}

A detailed description of the i2c\+\_\+open function

This function is to open the i2c device under /dev/i2c-\/$\ast$ and return file descriptor


\begin{DoxyParams}{Parameters}
{\em $\ast$device} & -\/ input the device name \char`\"{}/dev/i2c-\/$\ast$\char`\"{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ file descriptor on success, else return -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c_8c_a3716a55af7283410e7cc3de4b22f2487}\label{i2c_8c_a3716a55af7283410e7cc3de4b22f2487}} 
\index{i2c.c@{i2c.c}!i2c\_read@{i2c\_read}}
\index{i2c\_read@{i2c\_read}!i2c.c@{i2c.c}}
\doxysubsubsection{\texorpdfstring{i2c\_read()}{i2c\_read()}}
{\footnotesize\ttfamily uint8\+\_\+t i2c\+\_\+read (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{uint8\+\_\+t}]{addr,  }\item[{uint8\+\_\+t}]{reg\+\_\+addr }\end{DoxyParamCaption})}

A detailed description of the i2c\+\_\+read function

This function is to read the register value from i2c slave device


\begin{DoxyParams}{Parameters}
{\em fd} & -\/ file descriptor \\
\hline
{\em addr} & -\/ i2c slave address \\
\hline
{\em reg\+\_\+addr} & -\/ i2c slave register address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ register value on success, else return -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c_8c_aca6dddafa3e1b65ba21054a53d3437ac}\label{i2c_8c_aca6dddafa3e1b65ba21054a53d3437ac}} 
\index{i2c.c@{i2c.c}!i2c\_write@{i2c\_write}}
\index{i2c\_write@{i2c\_write}!i2c.c@{i2c.c}}
\doxysubsubsection{\texorpdfstring{i2c\_write()}{i2c\_write()}}
{\footnotesize\ttfamily int i2c\+\_\+write (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{uint8\+\_\+t}]{addr,  }\item[{uint8\+\_\+t}]{reg\+\_\+addr,  }\item[{uint8\+\_\+t}]{new\+\_\+reg\+\_\+value }\end{DoxyParamCaption})}

A detailed description of the i2c\+\_\+write function

This function is to write the register value to i2c slave device\textquotesingle{}s register


\begin{DoxyParams}{Parameters}
{\em fd} & -\/ file descriptor \\
\hline
{\em addr} & -\/ i2c slave address \\
\hline
{\em reg\+\_\+addr} & -\/ i2c slave register address \\
\hline
{\em new\+\_\+reg\+\_\+value} & -\/ register value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ integer value on success, else return -\/1 on error 
\end{DoxyReturn}
